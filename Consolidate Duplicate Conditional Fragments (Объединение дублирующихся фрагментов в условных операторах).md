Объединение дублирующихся фрагментов в условных операторах

Проблема: Одинаковый фрагмент кода находится во всех ветках условного оператора.

Решение: Вынесите его за рамки оператора.

Пример: <a href="https://github.com/helenasilkina/refactoring/blob/master/Consolidate_Duplicate_Conditional_Fragments.py">Consolidate_Duplicate_Conditional_Fragments.py</a>

Причины рефакторинга: Дублирующий код находится внутри всех веток условного оператора. Зачастую это является результатом эволюции кода внутри веток оператора, тем более, если над кодом работало несколько человек.

Достоинства: Убивает дублирование кода.

Порядок рефакторинга: 

1. Если дублирующие участки находятся вначале веток оператора, вынесите их перед условным оператором.
2. Если такой код выполняется в конце веток, поместите его после условного оператора.
3. Если дублирующий код расположен случайным образом внутри веток, вам нужно для начала попытаться передвинуть его в начало или в конец ветки, в зависимости от того, меняет ли он результат последующего кода.
4. Дублирующий фрагмент кода более одной строки можно попытаться «извлечь в новый метод» (Extract method), если в этом есть смысл.

