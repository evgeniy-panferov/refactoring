Извлечение интерфейса

Проблема: 

1. Несколько клиентов пользуются одной и той же частью интерфейса класса. 
2. В двух классах часть интерфейса оказалась общей.

Решение: выделите эту общую часть в свой собственный интерфейс.

Причины рефакторинга

1. Интерфейсы бывают кстати, когда один и тот же класс может отыгрывать различные роли в различных ситуациях. Используйте извлечение интерфейса, чтобы явно обозначить каждую из ролей.
2. Ещё один удобный случай возникает, когда требуется описать операции, которые класс выполняет на своём сервере. Если в будущем предполагается разрешить использование серверов нескольких видов, все они должны реализовывать этот интерфейс.

Полезные факты

1. Есть некоторое сходство между <a href="https://github.com/helenasilkina/refactoring/blob/master/Extract%20Superclass%20(Извлечение%20суперкласса).md">извлечением суперкласса</a> и извлечением интерфейса.
2. Извлечение интерфейса позволяет выделять только общие интерфейсы, но не общий код. Другими словами, если в классах находится <a href="https://github.com/helenasilkina/refactoring/blob/master/Dublicated%20Code.md">дублирующий код</a>, то, применив извлечение интерфейса, вы никак не избавитесь от этого дублирования.
3. Тем не менее, эту проблему можно уменьшить, применив извлечение класса для помещения поведения, содержащего дублирование в отдельный компонент и делегирования ему всей работы. В случае если объем общего поведения окажется довольно большим, всегда можно применить <a href="https://github.com/helenasilkina/refactoring/blob/master/Extract%20Superclass%20(Извлечение%20суперкласса).md">извлечение суперкласса</a>. Конечно, это даже проще, но помните, что при этом вы получаете только один родительский класс.

Порядок рефакторинга

1. Создайте пустой интерфейс.
2. Объявите общие операции в интерфейсе.
3. Объявите нужные классы как реализующие этот интерфейс.
4. Измените объявление типов в клиентском коде так, чтобы они использовали новый интерфейс.
