Извлечение переменной

Проблема: у вас есть сложное для понимания выражение.

Решение: поместите результат выражения или его части в отдельные переменные, поясняющие суть выражения.

Причины рефакторинга: главная мотивация этого рефакторинга — сделать более понятным сложное выражение, разбив его на промежуточные части.

Это может быть:

1. Условие оператора if() или части оператора ?: в C-подобных языках.
2. Длинное арифметическое выражение без промежуточных результатов.
3. Длинное склеивание строк.

Выделение переменной может стать первым шагом к последующему <a href="https://github.com/helenasilkina/refactoring/blob/master/<a href="https://github.com/helenasilkina/refactoring/blob/master/"></a>">извлечению метода</a>, если вы увидите, что выделенное выражение используется и в других местах кода.

Достоинства: улучшает читабельность кода. Постарайтесь дать выделенным переменным хорошие названия, которые будут отражать точно суть выражения. Так вы сделаете код читабельным и сумеете избавиться от лишних комментариев. Например, customerTaxValue, cityUnemploymentRate, clientSalutationString и т.д.

Недостатки: появляются дополнительные переменные. Но этот минус компенсируется простотой чтения кода.

Порядок рефакторинга

1. Вставьте новую строку перед интересующим вас выражением и объявите там новую переменную. Присвойте этой переменной часть сложного выражения.
2. Замените часть вынесенного выражения новой переменной.
3. Повторите это для всех сложных частей выражения.
