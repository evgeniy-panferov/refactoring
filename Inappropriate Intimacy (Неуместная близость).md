Неуместная близость

Симптомы и признаки: Один класс использует служебные поля и методы другого класса.

Причины появления: Смотрите внимательно за классами, которые проводят слишком много времени вместе. Хорошие классы должны знать друг о друге как можно меньше. Такие классы легче поддерживать и повторно использовать.

Лечение

1. Самый простой выход — при помощи перемещения метода и перемещения поля перенести части одного класса в другой (в тот, где они используются). Однако это может сработать только в том случае, если оригинальный класс не использует перемещаемые поля и методы.
2. Другим решением является извлечение зависимых частей в отдельный класс и сокрытие делегирования к этому классу.
3. Если между классами существует обоюдная зависимость, стоит прибегнуть к замене двунаправленной связи на однонаправленную.
4. Если близость возникает между подклассом и родительским классом, рассмотрите возможность замены делегирования наследованием.

Выигрыш

1. Улучшает организацию кода.
2. Упрощает техническую поддержку и повторное использование кода.
