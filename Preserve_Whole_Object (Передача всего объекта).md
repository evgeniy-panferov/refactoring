<strong>Передача всего объекта</strong>

Проблема: Вы получаете несколько значений из объекта, а затем передаёте их в метод как параметры.

Решение: Вместо этого передавайте весь объект.

Примеры: <a href="https://github.com/helenasilkina/refactoring/blob/master/Preserve_Whole_Object.py">Preserve_Whole_Object.py</a>, <a href="https://github.com/helenasilkina/refactoring/blob/master/Preserve_Whole_Object.js">Preserve_Whole_Object.js</a>

Причины рефакторинга:

1. Проблема заключается в том, что перед вызовом вашего метода нужно каждый раз вызывать методы будущего объекта-параметра. Если способ вызова этих методов либо количество данных, получаемых для метода, поменяется, то изменения придётся искать и вносить в дюжину мест по всей программе.
2. Вместо этого код получения всех нужных данных может храниться одном месте — в самом методе.

Достоинства:

1. Вместо пачки разнообразных параметров вы видите один объект с понятным названием.
2. Если методу понадобятся ещё какие-то данные из объекта, не нужно будет переписывать все места, где вызывается этот метод, а только лишь внутренности самого метода.

Недостатки: В некоторых случаях после такого преобразования метод теряет в универсальности, т.к. он мог получать данные из множества разных источников, а в результате рефакторинга мы ограничиваем круг его применения только для объектов с определённым интерфейсом.

Порядок рефакторинга:

1. Создайте параметр в методе для объекта, из которого можно получить нужные значения.
2. Теперь начинайте по одному удалять старые параметры из метода, заменяя их в коде вызовами соответствующих методов объекта-параметра. Тестируйте программу после каждой замены параметра.
3. Удалите код получения значений из объекта-параметра, который стоял перед вызовом метода.
