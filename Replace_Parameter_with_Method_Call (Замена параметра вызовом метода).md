<strong>Замена параметра вызовом метода</strong>

Проблема: Перед вызовом метода, выполнятся второй метод, результат которого, передаётся обратно в первый метод как аргумент. При этом значение параметра могло бы быть получено и внутри вызываемого метода.

Решение: Вместо передачи значения через параметр переместите код получения значения внутрь метода.

Примеры: <a href="https://github.com/helenasilkina/refactoring/blob/master/Replace_ Parameter_with_Method_Call.py">Replace_ Parameter_with_Method_Call.py</a>, <a href="https://github.com/helenasilkina/refactoring/blob/master/Replace_ Parameter_with_Method_Call.js">Replace_ Parameter_with_Method_Call.js</a>

Причины рефакторинга: В длинном списке параметров зачастую крайне сложно ориентироваться. Кроме того, вызовы таких методов часто превращаются в целую вереницу вычислений значений, которые будут передаваться в метод. Вот почему если значения параметра может быть вычислено при помощи вызова какого-то метода, это следует сделать внутри самого метода, а от параметра избавиться.

Достоинства: Избавляемся от лишних параметров, упрощая вызовы методов. Эти параметры зачастую создаются как задел на будущее (которое может так и не наступить).

Недостатки: Параметр может понадобиться завтра для каких-то других целей и метод придётся переписать.

Порядок рефакторинга:

1. Убедитесь, что код получения значения не использует параметров из текущего метода. Это важно, т.к. параметры текущего метода будут недоступны внутри другого метода, из-за чего перенос станет невозможен.
2. Если код получения значения сложнее, чем один вызов какого-то метода или функции, примените извлечение метода, чтобы выделить этот код в новый метод и сделать вызов простым.
3. В коде главного метода замените все обращения к заменяемому параметру вызовами метода получения значения.
4. Используйте «удаление параметра» (Remove parameter), чтобы удалить неиспользуемый теперь параметр.
