Расщепление переменной

Проблема: у вас есть локальная переменная, которая используется для хранения разных промежуточных значений внутри метода (за исключением переменных циклов).

Решение: используйте разные переменные для разных значений. Каждая переменная должна отвечать только за одну определённую вещь.

Причины рефакторинга: если вы «экономите» переменные внутри функции, повторно используете их для различных несвязанных целей, у вас обязательно начнутся проблемы в тот момент, когда потребуется внести какие-то изменения в код, содержащий эти переменные. Вам придётся перепроверять все случаи использования переменной, чтобы удостовериться в отсутствии ошибки в коде.

Достоинства

1. Каждый элемент программы должен отвечать только за одну вещь. Это сильно упрощает поддержку кода в будущем, т.к. вы можете спокойно заменить этот элемент, не опасаясь побочных эффектов.
2. Улучшается читабельность кода. Если переменная создавалась очень давно, да еще и в спешке, она могла получить элементарное название, которое не объясняет сути хранимого значения, например, k, a2, value и т.д. У вас есть шанс исправить ситуацию, назначив новым переменным хорошие названия, отражающие суть хранимых значений. Например, customerTaxValue, cityUnemploymentRate, clientSalutationString и т.д.
3. Этот рефакторинг помогает в дальнейшем <a href="https://github.com/helenasilkina/refactoring/blob/master/Extract_Method%20(Извлечение%20метода).md">выделить повторяющиеся участки кода в отдельные методы</a>.

Порядок рефакторинга

1. Найдите место в коде, где переменная в первый раз заполняется каким-то значением. В этом месте переименуйте ее, причем новое название должно соответствовать присваиваемому значению.
2. Подставьте её новое название вместо старого в тех местах, где использовалось это значение переменной.
3. Повторите операцию для случаев, где переменной присваивается новое значение.
