Замена алгоритма

Проблема: вы хотите заменить существующий алгоритм другим?

Решение: замените тело метода, реализующего старый алгоритм, новым алгоритмом.

Причины рефакторинга

1. Поэтапный рефакторинг – не единственный способ улучшить программу. Иногда вы сталкиваетесь с таким нагромождением проблем в методе, что его гораздо проще переписать заново. С другой стороны, вы могли найти алгоритм, который куда проще и эффективнее текущего. В этом случае надо просто заменить старый алгоритм новым.
2. С течением времени ваш алгоритм может оказаться включен в набор известной библиотеки или фреймворка, и вы можете пожелать избавиться от собственной реализации, чтобы облегчить себе поддержку программы.
3. Требования к работе программы могут измениться насколько сильно, что старый алгоритм невозможно просто «допилить» до соответствия им.

Порядок рефакторинга

1. Убедитесь, что вы по максимуму упростили текущий алгоритм. Перенесите несущественный код в другие методы с помощью <a href="https://github.com/helenasilkina/refactoring/blob/master/Extract_Method%20(Извлечение%20метода).md">извлечения метода</a>. Чем меньше «движущихся частей» останется в исходном алгоритме, тем проще будет его заменить.
2. Создайте ваш новый алгоритм в новом методе. Замените старый алгоритм новым и запустите тесты программы.
3. Если результаты не сходятся, верните старую реализацию и сравните результаты. Выясните, почему результаты не совпадают. Нередко, причиной могут быть ошибки в старом алгоритме, но с большей вероятностью не работает что-то в новом.
4. Когда все тесты начнут проходить, окончательно удалите старый алгоритм.
